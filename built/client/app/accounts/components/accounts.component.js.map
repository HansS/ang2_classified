{"version":3,"sources":["accounts/components/accounts.component.ts"],"names":["AccountsComponent","AccountsComponent.constructor","AccountsComponent.buildLoginForm","AccountsComponent.submitLoginData","AccountsComponent.buildRegisterForm","AccountsComponent.submitRegisterData","AccountsComponent.closeSignInUpModal","AccountsComponent.showSignIn","AccountsComponent.showSignUp","AccountsComponent.login","AccountsComponent.register","AccountsComponent.logError"],"mappings":"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","file":"accounts/components/accounts.component.js","sourcesContent":["import {Component, EventEmitter} from 'angular2/core'\nimport {Http, Headers, HTTP_PROVIDERS}  from 'angular2/http'\nimport {ControlGroup, FormBuilder, Validators, FORM_DIRECTIVES} from 'angular2/common'\n\nimport {AccountsService} from '../AccountsService'\nimport {ControlMessages} from '../../shared/components/control-messages.component'\nimport {ValidationService} from '../../shared/services/validationService'\n\n@Component({\n\tselector: 'signin-up',\n    templateUrl: 'app/accounts/templates/accounts.html',\n    inputs : ['signInUpModal'],\n    outputs: ['closeSignInUp', 'loginStatusEvent'],\n    providers: [AccountsService],\n    directives: [FORM_DIRECTIVES, ControlMessages]\n})\nexport class AccountsComponent {\n\n\tsignInUpModal : any;\n\tcloseSignInUp : EventEmitter<any> = new EventEmitter();\n\tloginStatusEvent: EventEmitter<any>  = new EventEmitter();\n\t\n\tlogInStatus : boolean = false;\n\tloginForm: ControlGroup;\n\tregisterForm: ControlGroup;\n\t\n\tloginResponse : string;\n\tregisterResponse: string;\n\tpostResponse: string;\n\n\tloginFormProcess: boolean = false;\n\tregisterFormProcess: boolean = false;\n\n\tconstructor(private _http: Http, private _accountsService: AccountsService, private fb: FormBuilder) {\n\t\tthis.fb = fb;\n\t\tthis.buildLoginForm();\n\t\tthis.buildRegisterForm();\t\n\t}\n\n\tbuildLoginForm() :void {\n\t\t\n\t\tthis.loginForm = this.fb.group({\n\t\t\t'loginUsername': ['', Validators.compose([Validators.required, ValidationService.startsWithNumber])],\n\t\t\t'loginPassword': ['', Validators.compose([Validators.required, ValidationService.passwordValidator])]\n\t\t});\n\t\tthis.registerFormProcess = false;\n\t}\t\n\n\tsubmitLoginData() {\n\t\tconsole.log(JSON.stringify(this.loginForm.value))\n    }\n\n\tbuildRegisterForm(): void {\n\t\tthis.registerForm = this.fb.group({\n\t\t\t'registerUsername': ['', Validators.compose([Validators.required, ValidationService.startsWithNumber]), ValidationService.usernameTaken],\n\t\t\t'registerEmail': ['', Validators.compose([Validators.required, ValidationService.emailValidator])],\n\t\t\t'registerPassword': ['', Validators.compose([Validators.required, ValidationService.passwordValidator])],\n\t\t});\n\n\t\tthis.registerFormProcess = false;\n\t}\n\n\tsubmitRegisterData() {\n\t\tconsole.log(JSON.stringify(this.registerForm.value))\n    }\n\n\t//Close Sign in Tab\n\tcloseSignInUpModal($event, value) {\n\t\tif ($event.target.classList.contains('cd-user-modal') || $event.target.classList.contains('cd-close-modal')) {\n\t\t\t//this.signInUpModal = null;\t\n\t\t\tthis.closeSignInUp.emit(value);\n            this.buildLoginForm();\n\t\t    this.buildRegisterForm();\n\t\t\treturn;\n\t\t}\n\t}\n\n\t//Sign In Tabs\n\tshowSignIn() {\n\t\tthis.signInUpModal = true;\n\t\treturn;\n\t}\t\t\n \t//Sign In Tabs\n\tshowSignUp(){\t\t\n\t\tthis.signInUpModal = false;\n\t\treturn;\n\t}\n\n\t// Make Login Http Request\n\tlogin(loginData) {\n\t\t\t\n\t\tif (this.loginForm.dirty && this.loginForm.valid) {\n\t\t\tlet logincreds = {\n\t\t\t\tusername: loginData.loginUsername,\n\t\t\t\tpassword: loginData.loginPassword\n\t\t\t};\n\n\t\t\tthis.loginFormProcess = true;\n\n\t\t\tthis._accountsService.login(logincreds)\n\t\t\t\t.subscribe(\n\t\t\t\tdata => this.loginResponse = JSON.stringify(data),\n\t\t\t\terror => this.logError(error),\n\t\t\t\t() => {\n\t\t\t\t\tthis.logInStatus = true;\n\t\t\t\t\tthis.signInUpModal = null;\n\t\t\t\t\tthis.loginStatusEvent.emit(true);\n\t\t\t\t\tthis.loginFormProcess = false;\n              //       this.buildLoginForm();\n\t\t            // this.buildRegisterForm();\n\t\t\t\t\tconsole.log(this.loginResponse);\n\t\t\t\t}\n\t\t\t\t);\n\t\t}\n\t}\n\n\t// Make Register Http Request\n\tregister(registerData) {\n\t\t\n\t\tif (this.registerForm.dirty && this.registerForm.valid) {\n\t\t\tlet creds = {\n\t\t\t\tusername: registerData.registerUsername,\n\t\t\t\temail: registerData.registerEmail,\n\t\t\t\tpassword: registerData.registerPassword\n\t\t\t};\n\t\t\tthis.registerFormProcess = true;\n\n\t\t\tthis._accountsService.register(creds)\n\t\t\t\t.subscribe(\n\t\t\t\tdata => this.registerResponse = JSON.stringify(data),\n\t\t\t\terror => this.logError(error),\n\t\t\t\t() => {\n\t\t\t\t\tthis.logInStatus = true;\n\t\t\t\t\tthis.signInUpModal = null;\n\t\t\t\t\tthis.loginStatusEvent.emit(true);\n\t\t\t\t\tthis.registerFormProcess = false;\n\t\t\t\t\t // this.buildLoginForm();\n\t\t\t\t\t // this.buildRegisterForm();\n\t\t\t\t\tconsole.log(this.registerResponse);\n\t\t\t\t}\n\t\t\t\t);\n\t\t}\n\t}\n\n\tlogError(error) {\n\t\tconsole.log(error);\n\t}\n\n}"],"sourceRoot":"/source/"}