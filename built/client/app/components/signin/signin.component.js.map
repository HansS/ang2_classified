{"version":3,"sources":["components/signin/signin.component.ts"],"names":["SignInComponent","SignInComponent.constructor","SignInComponent.buildLoginForm","SignInComponent.submitLoginData","SignInComponent.buildRegisterForm","SignInComponent.submitRegisterData","SignInComponent.closeSignInUpModal","SignInComponent.showSignIn","SignInComponent.showSignUp","SignInComponent.login","SignInComponent.register","SignInComponent.logError"],"mappings":"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","file":"components/signin/signin.component.js","sourcesContent":["import {Component, EventEmitter} from 'angular2/core'\r\nimport {Http, Headers, HTTP_PROVIDERS}  from 'angular2/http'\r\nimport {ControlGroup, FormBuilder, Validators, FORM_DIRECTIVES} from 'angular2/common'\r\n\r\nimport {SignInUpService} from '../../services/SignInUpService'\r\nimport {ControlMessages} from '../controlMessage/control-messages.component'\r\nimport {ValidationService} from '../../services/validationService'\r\n\r\n@Component({\r\n\tselector: 'signin-up',\r\n    templateUrl: 'app/components/signin/signin.html',\r\n    inputs : ['signInUpModal'],\r\n    outputs: ['closeSignInUp', 'loginStatusEvent'],\r\n    providers: [SignInUpService],\r\n    directives: [FORM_DIRECTIVES, ControlMessages]\r\n})\r\nexport class SignInComponent {\r\n\r\n\tsignInUpModal : any;\r\n\tcloseSignInUp : EventEmitter<any> = new EventEmitter();\r\n\tloginStatusEvent: EventEmitter<any>  = new EventEmitter();\r\n\t\r\n\tlogInStatus : boolean = false;\r\n\tloginForm: ControlGroup;\r\n\tregisterForm: ControlGroup;\r\n\t\r\n\tloginResponse : string;\r\n\tregisterResponse: string;\r\n\tpostResponse: string;\r\n\r\n\tloginFormProcess: boolean = false;\r\n\tregisterFormProcess: boolean = false;\r\n\r\n\tconstructor(private _http: Http, private _loginservice: SignInUpService, private fb: FormBuilder) {\r\n\t\tthis.fb = fb;\r\n\t\tthis.buildLoginForm();\r\n\t\tthis.buildRegisterForm();\t\r\n\t}\r\n\r\n\tbuildLoginForm() :void {\r\n\t\t\r\n\t\tthis.loginForm = this.fb.group({\r\n\t\t\t'loginUsername': ['', Validators.compose([Validators.required, ValidationService.startsWithNumber])],\r\n\t\t\t'loginPassword': ['', Validators.compose([Validators.required, ValidationService.passwordValidator])]\r\n\t\t});\r\n\t\tthis.registerFormProcess = false;\r\n\t}\t\r\n\r\n\tsubmitLoginData() {\r\n\t\tconsole.log(JSON.stringify(this.loginForm.value))\r\n    }\r\n\r\n\tbuildRegisterForm(): void {\r\n\t\tthis.registerForm = this.fb.group({\r\n\t\t\t'registerUsername': ['', Validators.compose([Validators.required, ValidationService.startsWithNumber]), ValidationService.usernameTaken],\r\n\t\t\t'registerEmail': ['', Validators.compose([Validators.required, ValidationService.emailValidator])],\r\n\t\t\t'registerPassword': ['', Validators.compose([Validators.required, ValidationService.passwordValidator])],\r\n\t\t});\r\n\r\n\t\tthis.registerFormProcess = false;\r\n\t}\r\n\r\n\tsubmitRegisterData() {\r\n\t\tconsole.log(JSON.stringify(this.registerForm.value))\r\n    }\r\n\r\n\t//Close Sign in Tab\r\n\tcloseSignInUpModal($event, value) {\r\n\t\tif ($event.target.classList.contains('cd-user-modal') || $event.target.classList.contains('cd-close-modal')) {\r\n\t\t\t//this.signInUpModal = null;\t\r\n\t\t\tthis.closeSignInUp.emit(value);\r\n            this.buildLoginForm();\r\n\t\t    this.buildRegisterForm();\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\t//Sign In Tabs\r\n\tshowSignIn() {\r\n\t\tthis.signInUpModal = true;\r\n\t\treturn;\r\n\t}\t\t\r\n \t//Sign In Tabs\r\n\tshowSignUp(){\t\t\r\n\t\tthis.signInUpModal = false;\r\n\t\treturn;\r\n\t}\r\n\r\n\t// Make Login Http Request\r\n\tlogin(loginData) {\r\n\t\t\t\r\n\t\tif (this.loginForm.dirty && this.loginForm.valid) {\r\n\t\t\tlet logincreds = {\r\n\t\t\t\tusername: loginData.loginUsername,\r\n\t\t\t\tpassword: loginData.loginPassword\r\n\t\t\t};\r\n\r\n\t\t\tthis.loginFormProcess = true;\r\n\r\n\t\t\tthis._loginservice.login(logincreds)\r\n\t\t\t\t.subscribe(\r\n\t\t\t\tdata => this.loginResponse = JSON.stringify(data),\r\n\t\t\t\terror => this.logError(error),\r\n\t\t\t\t() => {\r\n\t\t\t\t\tthis.logInStatus = true;\r\n\t\t\t\t\tthis.signInUpModal = null;\r\n\t\t\t\t\tthis.loginStatusEvent.emit(true);\r\n\t\t\t\t\tthis.loginFormProcess = false;\r\n              //       this.buildLoginForm();\r\n\t\t            // this.buildRegisterForm();\r\n\t\t\t\t\tconsole.log(this.loginResponse);\r\n\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\t// Make Register Http Request\r\n\tregister(registerData) {\r\n\t\t\r\n\t\tif (this.registerForm.dirty && this.registerForm.valid) {\r\n\t\t\tlet creds = {\r\n\t\t\t\tusername: registerData.registerUsername,\r\n\t\t\t\temail: registerData.registerEmail,\r\n\t\t\t\tpassword: registerData.registerPassword\r\n\t\t\t};\r\n\t\t\tthis.registerFormProcess = true;\r\n\r\n\t\t\tthis._loginservice.register(creds)\r\n\t\t\t\t.subscribe(\r\n\t\t\t\tdata => this.registerResponse = JSON.stringify(data),\r\n\t\t\t\terror => this.logError(error),\r\n\t\t\t\t() => {\r\n\t\t\t\t\tthis.logInStatus = true;\r\n\t\t\t\t\tthis.signInUpModal = null;\r\n\t\t\t\t\tthis.loginStatusEvent.emit(true);\r\n\t\t\t\t\tthis.registerFormProcess = false;\r\n\t\t\t\t\t // this.buildLoginForm();\r\n\t\t\t\t\t // this.buildRegisterForm();\r\n\t\t\t\t\tconsole.log(this.registerResponse);\r\n\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tlogError(error) {\r\n\t\tconsole.log(error);\r\n\t}\r\n\r\n}"],"sourceRoot":"/source/"}